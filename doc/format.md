# Track list file format

Subset of markdown, consisting of only:
- #-style headers
- tracks declared as list items

## Headers

If a header has a colon in it, the part after the colon must be a list of likes/dislikes. For example:

    ### Dominik Mahtz: Eelis Jimmy -Bob

This declares that Eelis and Jimmy like all tracks in this section (including subsections, if any), while Bob does not.
This saves you from having to (dis)like all the individual tracks.

## Track declarations

Tracks are declared as a list item with a music link, optionally followed by a colon and a list of likes/dislikes. For example:

    - [Melodic Techno Mix.16](https://www.youtube.com/watch?v=YjzzFYTsO3w): Eelis -Jimmy Bob

This declares the track, along with likes by Bob and Eelis and a dislike by Jimmy.

For another example:

    - [Liftboy - Sheeks](tracks/Liftboi - Scheeks.mp3)

This declares a track stored in a subdir in the same collaboratively edited repository. This can be used for tracks for which we don't have a url (obviously this should be used sparingly so as not to explode the repository size, since git is not for bulk file storage).

Since no likes are declared specifically for this track, it won't be played unless the declaration is in a section that was declared with whole-section likes.

## Track scoring and playlist generation

A track's score is defined as:

    likes - dislikes * 2

The playlist for a tracklist is generated by replicating each entry in the tracklist N times,
where N is the entry's score, and then repeatedly taking random entries.

This means that:
- tracks with nonpositive score are discarded and never played;
- it takes at least 3 likes to override a dislike.
